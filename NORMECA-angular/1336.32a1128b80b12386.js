"use strict";(self.webpackChunkNORMECA_angular=self.webpackChunkNORMECA_angular||[]).push([[1336],{1336:(P,d,o)=>{o.r(d),o.d(d,{FilesModule:()=>A});var c=o(6814),n=o(4190),g=o(9538),m=o(8645),p=o(8613),t=o(5879),Z=o(9136),h=o(6223),u=o(3566);function v(i,U){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"img",49),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"div",50)(13,"div",51)(14,"a",52),t._UZ(15,"i",53),t.qZA(),t.TgZ(16,"a",54),t._UZ(17,"i",55),t.qZA()()()()()),2&i){const e=U.$implicit;t.xp6(2),t.Q6J("src",e.img,t.LSH),t.xp6(2),t.hij("",e.title," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(e.size)}}const f=[{path:"",component:(()=>{class i{constructor(e){this.data=e,this.routes=p._,this.dtTrigger=new m.x,this.files=[],this.url="milestones",this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0}ngOnInit(){this.getTableData()}getTableData(){this.files=[],this.serialNumberArray=[],this.data.getFiles().subscribe(e=>{this.totalData=e.totalData,e.data.map((a,s)=>{const l=s+1;s>=this.skip&&l<=this.limit&&(this.files.push(a),this.serialNumberArray.push(l))}),this.dataSource=new g.by(this.files),this.calculateTotalPages(this.totalData,this.pageSize)})}sortData(e){const a=this.files.slice();this.files=e.active&&""!==e.direction?a.sort((s,l)=>(s[e.active]<l[e.active]?-1:1)*("asc"===e.direction?1:-1)):a}getMoreData(e){"next"==e?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData()):"previous"==e&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData())}moveToPage(e){this.currentPage=e,this.skip=this.pageSelection[e-1].skip,this.limit=this.pageSelection[e-1].limit,e>this.currentPage?this.pageIndex=e-1:e<this.currentPage&&(this.pageIndex=e+1),this.getTableData()}PageSize(){this.pageSelection=[],this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(e,a){this.pageNumberArray=[],this.totalPages=e/a,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(let s=1;s<=this.totalPages;s++){const l=a*s,r=l-a;this.pageNumberArray.push(s),this.pageSelection.push({skip:r,limit:l})}}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(Z.u))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-files"]],decls:85,vars:6,consts:[[1,"page-title"],[1,"user-tabs","mb-4"],[1,"nav","nav-tabs","nav-tabs-bottom","nav-justified"],[1,"nav-item"],[1,"nav-link","active",3,"routerLink"],[1,"nav-link",3,"routerLink"],[1,"my-projects-view"],[1,"row"],[1,"col-lg-12"],[1,"title-head","d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],["href","#add-milestone","data-bs-toggle","modal",1,"login-btn","btn-primary"],[1,"table-responsive","table-box","manage-projects-table"],["matSort","",1,"table","table-center","table-hover","datatable","no-sort",3,"matSortChange"],[1,"thead-pink"],["mat-sort-header","image"],["mat-sort-header","title"],["mat-sort-header","para"],["mat-sort-header","type"],["mat-sort-header","size"],["mat-sort-header","action"],[4,"ngFor","ngForOf"],["id","add-milestone",1,"modal","fade","edit-proposal-modal"],[1,"modal-dialog","modal-dialog-centered","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-close"],["href","javascript:void(0);","data-bs-dismiss","modal","aria-label","Close"],[1,"feather","icon-x"],[1,"modal-body"],["action","#"],[1,"modal-info"],[1,"col-md-12","col-lg-12"],[1,"pro-form-img"],[1,"profile-pic"],[1,"upload-files"],[1,"file-upload","image-upbtn"],[1,"feather","icon-upload","me-1"],["type","file"],[1,"col-md-12"],[1,"input-block"],["for","Title",1,"form-label"],["type","text",1,"form-control"],["for","Description",1,"form-label"],[1,"form-control","summernote"],[1,"submit-section","text-end"],["href","javascript:void(0);",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-primary","submit-btn"],["alt","Img",3,"src"],[1,"action-table-data"],[1,"edit-delete-action","m-0"],["href","javascript:void(0);",1,"download-icon","me-2"],[1,"feather","icon-download"],["href","javascript:void(0);",1,"download-icon"],[1,"feather","icon-trash-2"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Manage Projects"),t.qZA()(),t.TgZ(3,"nav",1)(4,"ul",2)(5,"li",3)(6,"a",4),t._uU(7,"Overview & Discussions"),t.qZA()(),t.TgZ(8,"li",3)(9,"a",5),t._uU(10,"Milestones"),t.qZA()(),t.TgZ(11,"li",3)(12,"a",5),t._uU(13,"Tasks"),t.qZA()(),t.TgZ(14,"li",3)(15,"a",5),t._uU(16,"Files"),t.qZA()(),t.TgZ(17,"li",3)(18,"a",5),t._uU(19,"Payments"),t.qZA()()()(),t.TgZ(20,"div",6)(21,"div",7)(22,"div",8)(23,"div",9)(24,"h4",10),t._uU(25,"Files"),t.qZA(),t.TgZ(26,"a",11),t._uU(27,"Add Files"),t.qZA()(),t.TgZ(28,"div",12)(29,"table",13),t.NdJ("matSortChange",function(r){return s.sortData(r)}),t.TgZ(30,"thead",14)(31,"tr")(32,"th",15),t._uU(33,"File Preview"),t.qZA(),t.TgZ(34,"th",16),t._uU(35,"Title"),t.qZA(),t.TgZ(36,"th",17),t._uU(37,"Description"),t.qZA(),t.TgZ(38,"th",18),t._uU(39,"Type"),t.qZA(),t.TgZ(40,"th",19),t._uU(41,"Size"),t.qZA(),t.TgZ(42,"th",20),t._uU(43,"Action"),t.qZA()()(),t.TgZ(44,"tbody"),t.YNc(45,v,18,5,"tr",21),t.qZA()()()()()(),t.TgZ(46,"div",22)(47,"div",23)(48,"div",24)(49,"div",25)(50,"h4",26),t._uU(51,"Add New File"),t.qZA(),t.TgZ(52,"span",27)(53,"a",28),t._UZ(54,"i",29),t.qZA()()(),t.TgZ(55,"div",30)(56,"form",31)(57,"div",32)(58,"div",7)(59,"div",33)(60,"div",34)(61,"div",35),t._uU(62," Profile Photo "),t.qZA(),t.TgZ(63,"div",36)(64,"label",37),t._UZ(65,"i",38),t._uU(66," Upload Photo "),t._UZ(67,"input",39),t.qZA(),t.TgZ(68,"span"),t._uU(69,"For better preview recommended size is 450px x 450px. Max size 5mb."),t.qZA()()()(),t.TgZ(70,"div",40)(71,"div",41)(72,"label",42),t._uU(73,"Title"),t.qZA(),t._UZ(74,"input",43),t.qZA()(),t.TgZ(75,"div",8)(76,"div",41)(77,"label",44),t._uU(78,"Description"),t.qZA(),t._UZ(79,"textarea",45),t.qZA()()()(),t.TgZ(80,"div",46)(81,"a",47),t._uU(82,"Cancel"),t.qZA(),t.TgZ(83,"button",48),t._uU(84,"Submit"),t.qZA()()()()()()()),2&a&&(t.xp6(6),t.Q6J("routerLink",s.routes.completedviewproject),t.xp6(3),t.Q6J("routerLink",s.routes.projectmilestone),t.xp6(3),t.Q6J("routerLink",s.routes.projecttask),t.xp6(3),t.Q6J("routerLink",s.routes.projectfiles),t.xp6(3),t.Q6J("routerLink",s.routes.paymentproject),t.xp6(27),t.Q6J("ngForOf",s.files))},dependencies:[c.sg,n.rH,h._Y,h.JL,h.F,u.YE,u.nU]})}return i})()}];let T=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[n.Bz.forChild(f),n.Bz]})}return i})();var b=o(45);let A=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[c.ez,T,b.m]})}return i})()}}]);