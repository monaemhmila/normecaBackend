"use strict";(self.webpackChunkNORMECA_angular=self.webpackChunkNORMECA_angular||[]).push([[3824],{3824:(N,m,s)=>{s.r(m),s.d(m,{PaymentsModule:()=>C});var c=s(6814),g=s(4190),h=s(9538),d=s(8645),_=s(8613),t=s(5879),y=s(9136),u=s(3566);const P=function(n,l){return{"bg-success-light":n,"bg-warning-light":l}};function T(n,l){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"span",28),t._uU(9),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"div",29)(14,"div",30)(15,"a",31),t._UZ(16,"i",32),t.qZA()()()()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hij(" ",e.type," "),t.xp6(2),t.Oqu(e.price),t.xp6(2),t.Q6J("ngClass",t.WLB(6,P,"Completed"===e.status,"Pending"===e.status)),t.xp6(1),t.Oqu(e.status),t.xp6(2),t.Oqu(e.date)}}function v(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"li",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.moveToPage(a.currentPage-2))})("keydown.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.moveToPage(a.currentPage-2))}),t.TgZ(1,"a",35),t._uU(2," ... "),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("hidden",1===e.currentPage)}}function f(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"li",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.moveToPage(a.currentPage+2))})("keydown.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.moveToPage(a.currentPage+2))}),t.TgZ(1,"a",35),t._uU(2," ... "),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("hidden",e.currentPage>=e.pageNumberArray[e.pageNumberArray.length-2]||e.totalData<e.serialNumberArray[e.serialNumberArray.length-1])}}function Z(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",25)(2,"a",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.moveToPage(r))})("keydown.enter",function(){const r=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.moveToPage(r))}),t._uU(3),t.qZA()(),t.YNc(4,v,3,1,"li",33),t.YNc(5,f,3,1,"li",33),t.BQk()}if(2&n){const e=l.$implicit,i=l.index,a=t.oxw();t.xp6(1),t.ekj("active",e===a.currentPage),t.Q6J("ngClass",a.pageNumberArray[a.currentPage-2]>e&&1!==e&&a.pageNumberArray.length>6||a.pageNumberArray[a.currentPage]<e&&1!==e&&a.pageNumberArray.length>6&&a.pageNumberArray.length!==e?"hide-page-no":"show-page-no"),t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",0===i&&a.pageNumberArray.length>6&&a.currentPage>2),t.xp6(1),t.Q6J("ngIf",i===a.pageNumberArray.length-2&&a.pageNumberArray.length>6)}}const p=function(n){return{disabled:n}},b=[{path:"",component:(()=>{class n{constructor(e){this.data=e,this.dtTrigger=new d.x,this.routes=_._,this.payment=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0}ngOnInit(){this.getTableData()}getTableData(){this.payment=[],this.serialNumberArray=[],this.data.getEmployerPayment().subscribe(e=>{this.totalData=e.totalData,e.data.map((i,a)=>{const r=a+1;a>=this.skip&&r<=this.limit&&(this.payment.push(i),this.serialNumberArray.push(r))}),this.dataSource=new h.by(this.payment),this.calculateTotalPages(this.totalData,this.pageSize)})}sortData(e){const i=this.payment.slice();this.payment=e.active&&""!==e.direction?i.sort((a,r)=>(a[e.active]<r[e.active]?-1:1)*("asc"===e.direction?1:-1)):i}getMoreData(e){"next"==e?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData()):"previous"==e&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData())}moveToPage(e){this.currentPage=e,this.skip=this.pageSelection[e-1].skip,this.limit=this.pageSelection[e-1].limit,e>this.currentPage?this.pageIndex=e-1:e<this.currentPage&&(this.pageIndex=e+1),this.getTableData()}PageSize(){this.pageSelection=[],this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(e,i){this.pageNumberArray=[],this.totalPages=e/i,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(let a=1;a<=this.totalPages;a++){const r=i*a,o=r-i;this.pageNumberArray.push(a),this.pageSelection.push({skip:o,limit:r})}}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(y.u))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-payments"]],decls:55,vars:16,consts:[[1,"user-tabs","mb-4"],[1,"nav","nav-tabs","nav-tabs-bottom","nav-justified"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link","active",3,"routerLink"],[1,"my-projects-view"],[1,"row"],[1,"col-lg-12"],[1,"title-head","d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"table-responsive","table-box","manage-projects-table"],["matSort","",1,"table","table-center","table-hover","datatable","no-sort",3,"matSortChange"],[1,"thead-pink"],["mat-sort-header","image"],["mat-sort-header","name"],["mat-sort-header","type"],["mat-sort-header","status"],["mat-sort-header","date"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click","keydown.enter"],["href","javascript:void(0);",1,"page-link",3,"click","keydown.enter"],[1,"badge","badge-pill",3,"ngClass"],[1,"action-table-data"],[1,"edit-delete-action","m-0"],["href","javascript:void(0);",1,"download-icon"],[1,"feather","icon-download"],["class","page-item","tabindex","0",3,"hidden","click","keydown.enter",4,"ngIf"],["tabindex","0",1,"page-item",3,"hidden","click","keydown.enter"],["href","javascript:void(0);",1,"page-link"]],template:function(i,a){1&i&&(t.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),t._uU(4,"Overview & Discussions"),t.qZA()(),t.TgZ(5,"li",2)(6,"a",3),t._uU(7,"Milestones"),t.qZA()(),t.TgZ(8,"li",2)(9,"a",3),t._uU(10,"Tasks"),t.qZA()(),t.TgZ(11,"li",2)(12,"a",3),t._uU(13,"Files"),t.qZA()(),t.TgZ(14,"li",2)(15,"a",4),t._uU(16,"Payments"),t.qZA()()()(),t.TgZ(17,"div",5)(18,"div",6)(19,"div",7)(20,"div",8)(21,"h4",9),t._uU(22,"Payments"),t.qZA()(),t.TgZ(23,"div",10)(24,"table",11),t.NdJ("matSortChange",function(o){return a.sortData(o)}),t.TgZ(25,"thead",12)(26,"tr")(27,"th",13),t._uU(28,"Name"),t.qZA(),t.TgZ(29,"th",14),t._uU(30,"Type of Payment"),t.qZA(),t.TgZ(31,"th",15),t._uU(32,"Budget"),t.qZA(),t.TgZ(33,"th",16),t._uU(34,"Status"),t.qZA(),t.TgZ(35,"th",17),t._uU(36,"Paid On"),t.qZA(),t.TgZ(37,"th",17),t._uU(38,"Invoice"),t.qZA()()(),t.TgZ(39,"tbody"),t.YNc(40,T,17,9,"tr",18),t.qZA()()(),t.TgZ(41,"div",19)(42,"div",20)(43,"div",21),t._uU(44),t.qZA()(),t.TgZ(45,"div",22)(46,"div",23)(47,"ul",24)(48,"li",25)(49,"a",26),t.NdJ("click",function(){return a.getMoreData("previous")})("keydown.enter",function(){return a.getMoreData("previous")}),t._uU(50,"Previous"),t.qZA()(),t.YNc(51,Z,6,6,"ng-container",18),t.TgZ(52,"li",25)(53,"a",27),t.NdJ("click",function(){return a.getMoreData("next")})("keydown.enter",function(){return a.getMoreData("next")}),t._uU(54,"Next "),t.qZA()()()()()()()()()),2&i&&(t.xp6(3),t.Q6J("routerLink",a.routes.milestoneoverview),t.xp6(3),t.Q6J("routerLink",a.routes.employee_milestone),t.xp6(3),t.Q6J("routerLink",a.routes.milestonetask),t.xp6(3),t.Q6J("routerLink",a.routes.milestonefiles),t.xp6(3),t.Q6J("routerLink",a.routes.milestonepayment),t.xp6(25),t.Q6J("ngForOf",a.payment),t.xp6(4),t.lnq(" Showing ",a.serialNumberArray[0]," to ",a.serialNumberArray[a.serialNumberArray.length-1]," of ",a.totalData," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(12,p,1===a.currentPage)),t.xp6(3),t.Q6J("ngForOf",a.pageNumberArray),t.xp6(1),t.Q6J("ngClass",t.VKq(14,p,a.currentPage===a.pageNumberArray[a.pageNumberArray.length-1]||0===a.payment.length)))},dependencies:[c.mk,c.sg,c.O5,g.rH,u.YE,u.nU]})}return n})()}];let A=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#a=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(b),g.Bz]})}return n})();var k=s(45);let C=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#a=this.\u0275inj=t.cJS({imports:[c.ez,A,k.m]})}return n})()}}]);