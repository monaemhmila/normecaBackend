"use strict";(self.webpackChunkNORMECA_angular=self.webpackChunkNORMECA_angular||[]).push([[8195],{8195:(M,u,o)=>{o.r(u),o.d(u,{ProjectMilestoneModule:()=>x});var c=o(6814),g=o(4190),h=o(9538),d=o(8645),_=o(8613),e=o(5879),v=o(9136),p=o(3566);const T=function(a,l){return{"bg-success-light":a,"bg-warning-light":l}};function b(a,l){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",31)(7,"div",32),e._UZ(8,"div",33),e.qZA(),e.TgZ(9,"p",34),e._uU(10),e.qZA()()(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",35),e._uU(17),e.qZA()(),e.TgZ(18,"td")(19,"div",36)(20,"a",37),e._UZ(21,"i",38),e._uU(22,"View"),e.qZA()()()()),2&a){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.price),e.xp6(6),e.Oqu(t.percentage),e.xp6(2),e.Oqu(t.startdate),e.xp6(2),e.Oqu(t.enddate),e.xp6(2),e.Q6J("ngClass",e.WLB(7,T,"Paid"===t.availability,"Unpaid"===t.availability)),e.xp6(1),e.Oqu(t.availability)}}function P(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"li",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage-2))})("keydown.enter",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage-2))}),e.TgZ(1,"a",41),e._uU(2," ... "),e.qZA()()}if(2&a){const t=e.oxw(2);e.Q6J("hidden",1===t.currentPage)}}function Z(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"li",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage+2))})("keydown.enter",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage+2))}),e.TgZ(1,"a",41),e._uU(2," ... "),e.qZA()()}if(2&a){const t=e.oxw(2);e.Q6J("hidden",t.currentPage>=t.pageNumberArray[t.pageNumberArray.length-2]||t.totalData<t.serialNumberArray[t.serialNumberArray.length-1])}}function f(a,l){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",28)(2,"a",30),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.moveToPage(r))})("keydown.enter",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.moveToPage(r))}),e._uU(3),e.qZA()(),e.YNc(4,P,3,1,"li",39),e.YNc(5,Z,3,1,"li",39),e.BQk()}if(2&a){const t=l.$implicit,n=l.index,i=e.oxw();e.xp6(1),e.ekj("active",t===i.currentPage),e.Q6J("ngClass",i.pageNumberArray[i.currentPage-2]>t&&1!==t&&i.pageNumberArray.length>6||i.pageNumberArray[i.currentPage]<t&&1!==t&&i.pageNumberArray.length>6&&i.pageNumberArray.length!==t?"hide-page-no":"show-page-no"),e.xp6(2),e.hij(" ",t," "),e.xp6(1),e.Q6J("ngIf",0===n&&i.pageNumberArray.length>6&&i.currentPage>2),e.xp6(1),e.Q6J("ngIf",n===i.pageNumberArray.length-2&&i.pageNumberArray.length>6)}}const m=function(a){return{disabled:a}},A=[{path:"",component:(()=>{class a{constructor(t){this.data=t,this.miles=[],this.routes=_._,this.dtTrigger=new d.x,this.url="milestones",this.Toggledata=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0}ngOnInit(){this.getTableData()}getTableData(){this.miles=[],this.serialNumberArray=[],this.data.getEmployerMilestone().subscribe(t=>{this.totalData=t.totalData,t.data.map((n,i)=>{const r=i+1;i>=this.skip&&r<=this.limit&&(this.miles.push(n),this.serialNumberArray.push(r))}),this.dataSource=new h.by(this.miles),this.calculateTotalPages(this.totalData,this.pageSize)})}sortData(t){const n=this.miles.slice();this.miles=t.active&&""!==t.direction?n.sort((i,r)=>(i[t.active]<r[t.active]?-1:1)*("asc"===t.direction?1:-1)):n}getMoreData(t){"next"==t?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData()):"previous"==t&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData())}moveToPage(t){this.currentPage=t,this.skip=this.pageSelection[t-1].skip,this.limit=this.pageSelection[t-1].limit,t>this.currentPage?this.pageIndex=t-1:t<this.currentPage&&(this.pageIndex=t+1),this.getTableData()}PageSize(){this.pageSelection=[],this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(t,n){this.pageNumberArray=[],this.totalPages=t/n,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(let i=1;i<=this.totalPages;i++){const r=n*i,s=r-n;this.pageNumberArray.push(i),this.pageSelection.push({skip:s,limit:r})}}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(v.u))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-project-milestone"]],decls:60,vars:16,consts:[[1,"page-title"],[1,"user-tabs","mb-4"],[1,"nav","nav-tabs","nav-tabs-bottom","nav-justified"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link","active",3,"routerLink"],[1,"my-projects-view"],[1,"row"],[1,"col-lg-12"],[1,"title-head","d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"table-responsive","table-box","manage-projects-table"],["matSort","",1,"table","table-center","table-hover","datatable","no-sort",3,"matSortChange"],[1,"thead-pink"],["mat-sort-header","name"],["mat-sort-header","price"],["mat-sort-header","percentage"],["mat-sort-header","startdate"],["mat-sort-header","enddate"],["mat-sort-header","availability"],["mat-sort-header","full"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click","keydown.enter"],["href","javascript:void(0);",1,"page-link",3,"click","keydown.enter"],[1,"d-flex","align-items-center"],[1,"progress","progress-md","mb-0"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","45%"],[1,"mb-0","orange-text","text-center","ms-3"],[1,"badge","badge-pill",3,"ngClass"],[1,"action-table-data"],["href","#view-milestone","data-bs-toggle","modal",1,"view-icon","me-2"],[1,"feather","icon-eye","me-1"],["tabindex","0","class","page-item",3,"hidden","click","keydown.enter",4,"ngIf"],["tabindex","0",1,"page-item",3,"hidden","click","keydown.enter"],["href","javascript:void(0);","tabindex","0",1,"page-link"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"Manage Projects"),e.qZA()(),e.TgZ(3,"nav",1)(4,"ul",2)(5,"li",3)(6,"a",4),e._uU(7,"Overview & Discussions"),e.qZA()(),e.TgZ(8,"li",3)(9,"a",5),e._uU(10,"Milestones"),e.qZA()(),e.TgZ(11,"li",3)(12,"a",4),e._uU(13,"Tasks"),e.qZA()(),e.TgZ(14,"li",3)(15,"a",4),e._uU(16,"Files"),e.qZA()(),e.TgZ(17,"li",3)(18,"a",4),e._uU(19,"Payments"),e.qZA()()()(),e.TgZ(20,"div",6)(21,"div",7)(22,"div",8)(23,"div",9)(24,"h4",10),e._uU(25,"Milestones"),e.qZA()(),e.TgZ(26,"div",11)(27,"table",12),e.NdJ("matSortChange",function(s){return i.sortData(s)}),e.TgZ(28,"thead",13)(29,"tr")(30,"th",14),e._uU(31,"Name"),e.qZA(),e.TgZ(32,"th",15),e._uU(33,"Budget"),e.qZA(),e.TgZ(34,"th",16),e._uU(35,"Progress"),e.qZA(),e.TgZ(36,"th",17),e._uU(37,"Start date"),e.qZA(),e.TgZ(38,"th",18),e._uU(39,"Due date"),e.qZA(),e.TgZ(40,"th",19),e._uU(41,"Status"),e.qZA(),e.TgZ(42,"th",20),e._uU(43,"Action"),e.qZA()()(),e.TgZ(44,"tbody"),e.YNc(45,b,23,10,"tr",21),e.qZA()()(),e.TgZ(46,"div",22)(47,"div",23)(48,"div",24),e._uU(49),e.qZA()(),e.TgZ(50,"div",25)(51,"div",26)(52,"ul",27)(53,"li",28)(54,"a",29),e.NdJ("click",function(){return i.getMoreData("previous")})("keydown.enter",function(){return i.getMoreData("previous")}),e._uU(55,"Previous"),e.qZA()(),e.YNc(56,f,6,6,"ng-container",21),e.TgZ(57,"li",28)(58,"a",30),e.NdJ("click",function(){return i.getMoreData("next")})("keydown.enter",function(){return i.getMoreData("next")}),e._uU(59,"Next "),e.qZA()()()()()()()()()),2&n&&(e.xp6(6),e.Q6J("routerLink",i.routes.completedviewproject),e.xp6(3),e.Q6J("routerLink",i.routes.projectmilestone),e.xp6(3),e.Q6J("routerLink",i.routes.projecttask),e.xp6(3),e.Q6J("routerLink",i.routes.milestonefiles),e.xp6(3),e.Q6J("routerLink",i.routes.paymentproject),e.xp6(27),e.Q6J("ngForOf",i.miles),e.xp6(4),e.lnq(" Showing ",i.serialNumberArray[0]," to ",i.serialNumberArray[i.serialNumberArray.length-1]," of ",i.totalData," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(12,m,1===i.currentPage)),e.xp6(3),e.Q6J("ngForOf",i.pageNumberArray),e.xp6(1),e.Q6J("ngClass",e.VKq(14,m,i.currentPage===i.pageNumberArray[i.pageNumberArray.length-1]||0===i.miles.length)))},dependencies:[c.mk,c.sg,c.O5,g.rH,p.YE,p.nU]})}return a})()}];let y=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#i=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(A),g.Bz]})}return a})();var k=o(45);let x=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#i=this.\u0275inj=e.cJS({imports:[c.ez,y,k.m]})}return a})()}}]);