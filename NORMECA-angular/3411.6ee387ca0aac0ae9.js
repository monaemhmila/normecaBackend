"use strict";(self.webpackChunkNORMECA_angular=self.webpackChunkNORMECA_angular||[]).push([[3411],{3411:(C,d,s)=>{s.r(d),s.d(d,{FilesModule:()=>x});var c=s(6814),g=s(4190),p=s(9538),h=s(8613),e=s(5879),_=s(9136),u=s(6223),f=s(3566);function Z(a,l){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",46),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",47)(13,"div",48)(14,"a",49),e._UZ(15,"i",50),e.qZA()()()()()),2&a){const t=l.$implicit;e.xp6(2),e.Q6J("src",t.img,e.LSH),e.xp6(2),e.hij("",t.title," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.size)}}function v(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"li",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage-2))})("keydown.enter",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage-2))}),e.TgZ(1,"a",53),e._uU(2," ... "),e.qZA()()}if(2&a){const t=e.oxw(2);e.Q6J("hidden",1===t.currentPage)}}function T(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"li",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage+2))})("keydown.enter",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage+2))}),e.TgZ(1,"a",53),e._uU(2," ... "),e.qZA()()}if(2&a){const t=e.oxw(2);e.Q6J("hidden",t.currentPage>=t.pageNumberArray[t.pageNumberArray.length-2]||t.totalData<t.serialNumberArray[t.serialNumberArray.length-1])}}function A(a,l){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",20)(2,"a",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.moveToPage(r))})("keydown.enter",function(){const r=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.moveToPage(r))}),e._uU(3),e.qZA()(),e.YNc(4,v,3,1,"li",51),e.YNc(5,T,3,1,"li",51),e.BQk()}if(2&a){const t=l.$implicit,n=l.index,i=e.oxw();e.xp6(1),e.ekj("active",t===i.currentPage),e.Q6J("ngClass",i.pageNumberArray[i.currentPage-2]>t&&1!==t&&i.pageNumberArray.length>6||i.pageNumberArray[i.currentPage]<t&&1!==t&&i.pageNumberArray.length>6&&i.pageNumberArray.length!==t?"hide-page-no":"show-page-no"),e.xp6(2),e.hij(" ",t," "),e.xp6(1),e.Q6J("ngIf",0===n&&i.pageNumberArray.length>6&&i.currentPage>2),e.xp6(1),e.Q6J("ngIf",n===i.pageNumberArray.length-2&&i.pageNumberArray.length>6)}}const m=function(a){return{disabled:a}},b=[{path:"",component:(()=>{class a{constructor(t){this.data=t,this.routes=h._,this.files=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0}ngOnInit(){this.getTableData()}getTableData(){this.files=[],this.serialNumberArray=[],this.data.getFiles().subscribe(t=>{this.totalData=t.totalData,t.data.map((n,i)=>{const r=i+1;i>=this.skip&&r<=this.limit&&(this.files.push(n),this.serialNumberArray.push(r))}),this.dataSource=new p.by(this.files),this.calculateTotalPages(this.totalData,this.pageSize)})}sortData(t){const n=this.files.slice();this.files=t.active&&""!==t.direction?n.sort((i,r)=>(i[t.active]<r[t.active]?-1:1)*("asc"===t.direction?1:-1)):n}getMoreData(t){"next"==t?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData()):"previous"==t&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData())}moveToPage(t){this.currentPage=t,this.skip=this.pageSelection[t-1].skip,this.limit=this.pageSelection[t-1].limit,t>this.currentPage?this.pageIndex=t-1:t<this.currentPage&&(this.pageIndex=t+1),this.getTableData()}PageSize(){this.pageSelection=[],this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(t,n){this.pageNumberArray=[],this.totalPages=t/n,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(let i=1;i<=this.totalPages;i++){const r=n*i,o=r-n;this.pageNumberArray.push(i),this.pageSelection.push({skip:o,limit:r})}}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(_.u))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-files"]],decls:113,vars:16,consts:[[1,"user-tabs","mb-4"],[1,"nav","nav-tabs","nav-tabs-bottom","nav-justified"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link","active",3,"routerLink"],[1,"my-projects-view"],[1,"row"],[1,"col-lg-12"],[1,"title-head","d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"table-responsive","table-box","manage-projects-table"],["matSort","",1,"table","table-center","table-hover","datatable","no-sort",3,"matSortChange"],[1,"thead-pink"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click","keydown.enter"],["href","javascript:void(0);",1,"page-link",3,"click","keydown.enter"],["id","file",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-close"],["href","javascript:void(0);","data-bs-dismiss","modal","aria-label","Close"],[1,"far","fa-times-circle","orange-text"],[1,"modal-body"],[1,"modal-info"],[1,"col-md-12"],[1,"form-group"],["for","title"],["type","text",1,"form-control"],["for","link"],[1,"br-0","file-upload","image-upbtn"],["type","file"],[1,"submit-section","text-end"],["type","submit",1,"btn","btn-primary","submit-btn"],["id","edit-file",1,"modal","fade"],["type","text","value","Image for Section background",1,"form-control"],["type","text","value","Lorem ipsum dolor sit amet, consectetur adipiscing elit",1,"form-control"],[1,"d-flex","align-items-center"],["src","assets/img/file-logo.png","alt","Logo",1,"img-fluid","me-2"],["alt","Img",3,"src"],[1,"action-table-data"],[1,"edit-delete-action","m-0"],["href","javascript:void(0);",1,"download-icon"],[1,"feather","icon-download"],["class","page-item","tabindex","0",3,"hidden","click","keydown.enter",4,"ngIf"],["tabindex","0",1,"page-item",3,"hidden","click","keydown.enter"],["href","javascript:void(0);",1,"page-link"]],template:function(n,i){1&n&&(e.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),e._uU(4,"Overview & Discussions"),e.qZA()(),e.TgZ(5,"li",2)(6,"a",3),e._uU(7,"Milestones"),e.qZA()(),e.TgZ(8,"li",2)(9,"a",3),e._uU(10,"Tasks"),e.qZA()(),e.TgZ(11,"li",2)(12,"a",4),e._uU(13,"Files"),e.qZA()(),e.TgZ(14,"li",2)(15,"a",3),e._uU(16,"Payments"),e.qZA()()()(),e.TgZ(17,"div",5)(18,"div",6)(19,"div",7)(20,"div",8)(21,"h4",9),e._uU(22,"Files"),e.qZA()(),e.TgZ(23,"div",10)(24,"table",11),e.NdJ("matSortChange",function(o){return i.sortData(o)}),e.TgZ(25,"thead",12)(26,"tr")(27,"th"),e._uU(28,"File Preview"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Title"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Description"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Type"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Size"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Action"),e.qZA()()(),e.TgZ(39,"tbody"),e.YNc(40,Z,16,5,"tr",13),e.qZA()()(),e.TgZ(41,"div",14)(42,"div",15)(43,"div",16),e._uU(44),e.qZA()(),e.TgZ(45,"div",17)(46,"div",18)(47,"ul",19)(48,"li",20)(49,"a",21),e.NdJ("click",function(){return i.getMoreData("previous")})("keydown.enter",function(){return i.getMoreData("previous")}),e._uU(50,"Previous"),e.qZA()(),e.YNc(51,A,6,6,"ng-container",13),e.TgZ(52,"li",20)(53,"a",22),e.NdJ("click",function(){return i.getMoreData("next")})("keydown.enter",function(){return i.getMoreData("next")}),e._uU(54,"Next "),e.qZA()()()()()()()()(),e.TgZ(55,"div",23)(56,"div",24)(57,"div",25)(58,"div",26)(59,"h4",9),e._uU(60,"Add Files"),e.qZA(),e.TgZ(61,"span",27)(62,"a",28),e._UZ(63,"i",29),e.qZA()()(),e.TgZ(64,"div",30)(65,"form")(66,"div",31)(67,"div",6)(68,"div",32)(69,"div",33)(70,"label",34),e._uU(71,"Title"),e.qZA(),e._UZ(72,"input",35),e.qZA(),e.TgZ(73,"div",33)(74,"label",36),e._uU(75,"Link"),e.qZA(),e._UZ(76,"input",35),e.qZA(),e.TgZ(77,"label",37),e._uU(78," upload Files "),e._UZ(79,"input",38),e.qZA()()()(),e.TgZ(80,"div",39)(81,"button",40),e._uU(82,"Submit"),e.qZA()()()()()()(),e.TgZ(83,"div",41)(84,"div",24)(85,"div",25)(86,"div",26)(87,"h4",9),e._uU(88,"Edit Files"),e.qZA(),e.TgZ(89,"span",27)(90,"a",28),e._UZ(91,"i",29),e.qZA()()(),e.TgZ(92,"div",30)(93,"form")(94,"div",31)(95,"div",6)(96,"div",32)(97,"div",33)(98,"label",34),e._uU(99,"Title"),e.qZA(),e._UZ(100,"input",42),e.qZA(),e.TgZ(101,"div",33)(102,"label",36),e._uU(103,"Link"),e.qZA(),e._UZ(104,"input",43),e.qZA(),e.TgZ(105,"div",44),e._UZ(106,"img",45),e.TgZ(107,"label",37),e._uU(108," upload Files "),e._UZ(109,"input",38),e.qZA()()()()(),e.TgZ(110,"div",39)(111,"button",40),e._uU(112,"Submit"),e.qZA()()()()()()()),2&n&&(e.xp6(3),e.Q6J("routerLink",i.routes.milestoneoverview),e.xp6(3),e.Q6J("routerLink",i.routes.employee_milestone),e.xp6(3),e.Q6J("routerLink",i.routes.milestonetask),e.xp6(3),e.Q6J("routerLink",i.routes.milestonefiles),e.xp6(3),e.Q6J("routerLink",i.routes.milestonepayment),e.xp6(25),e.Q6J("ngForOf",i.files),e.xp6(4),e.lnq(" Showing ",i.serialNumberArray[0]," to ",i.serialNumberArray[i.serialNumberArray.length-1]," of ",i.totalData," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(12,m,1===i.currentPage)),e.xp6(3),e.Q6J("ngForOf",i.pageNumberArray),e.xp6(1),e.Q6J("ngClass",e.VKq(14,m,i.currentPage===i.pageNumberArray[i.pageNumberArray.length-1]||0===i.files.length)))},dependencies:[c.mk,c.sg,c.O5,g.rH,u._Y,u.JL,u.F,f.YE]})}return a})()}];let y=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#i=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(b),g.Bz]})}return a})();var k=s(45);let x=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#i=this.\u0275inj=e.cJS({imports:[c.ez,y,k.m]})}return a})()}}]);