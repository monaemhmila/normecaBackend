"use strict";(self.webpackChunkNORMECA_angular=self.webpackChunkNORMECA_angular||[]).push([[4240],{4240:(F,d,s)=>{s.r(d),s.d(d,{BasicInputsModule:()=>y});var u=s(177),c=s(9417),m=s(1188),e=s(7705),g=s(7738),p=s(529);const f=["imageInput"],h=["contentTextarea"];function v(o,I){if(1&o&&(e.j41(0,"div",33),e.nrm(1,"img",34),e.k0s()),2&o){const i=I.$implicit;e.R7$(1),e.Y8G("src",i,e.B4B)}}const b=[{path:"",component:(()=>{class o{constructor(i,t){this.data=i,this.appService=t,this.imageUrls=[],this.youtubeLink="",this.blogTitle="",this.blogContent="",this.pdfFile=null}previewImages(i){const t=i.target.files;if(t){this.imageUrls=[];for(let n=0;n<t.length;n++){const a=new FileReader;a.onload=r=>{this.imageUrls.push(r.target.result)},a.readAsDataURL(t[n])}}}clearImageInput(){this.imageInput.nativeElement.value="",this.imageUrls=[]}adjustTextareaHeight(){const i=this.contentTextarea.nativeElement;i.style.height="auto",i.style.height=i.scrollHeight+"px"}handlePdfChange(i){const t=i.target.files;t&&t.length>0&&(this.pdfFile=t[0])}addNewBlog(i,t,n,a){if(!a)return void console.error("fileInput is null or undefined");const r=a.files?Array.from(a.files):[];console.log("Number of selected images:",r.length),i&&t?this.appService.addBlog(i,t,n,r,this.pdfFile).subscribe(l=>{console.log("Blog added successfully",l)},l=>{console.error("Error adding blog",l)}):console.error("Title or content is null or empty")}static{this.\u0275fac=function(t){return new(t||o)(e.rXU(g.L),e.rXU(p.d))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-basic-inputs"]],viewQuery:function(t,n){if(1&t&&(e.GBs(f,5),e.GBs(h,5)),2&t){let a;e.mGM(a=e.lsd())&&(n.imageInput=a.first),e.mGM(a=e.lsd())&&(n.contentTextarea=a.first)}},decls:50,vars:4,consts:[[1,"page-wrapper"],[1,"content","container-fluid"],[1,"page-header"],[1,"row","align-items-center"],[1,"col"],[1,"page-title"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-header","pt-0","mb-4"],[1,"card-title"],["id","blogForm","enctype","multipart/form-data"],[1,"form-group","row"],["for","title",1,"col-form-label","col-md-2"],[1,"col-md-10"],["type","text","id","title","placeholder","Enter your blog title","required","","name","blogTitle",1,"form-control",3,"ngModel","ngModelChange"],["for","content",1,"col-form-label","col-md-2"],["rows","1","id","content","placeholder","Write your blog content here","required","","name","blogContent",1,"form-control",3,"ngModel","ngModelChange","input"],["contentTextarea",""],[1,"col-form-label","col-md-2"],["type","file","id","images","multiple","","accept","image/*",1,"form-control",3,"change"],["imageInput",""],[1,"text-muted"],["id","imagePreview",1,"mt-3","image-preview"],["class","image-preview-item",4,"ngFor","ngForOf"],["for","pdf",1,"col-form-label","col-md-2"],["type","file","id","pdf","name","pdf","accept",".pdf",1,"form-control",3,"change"],["for","youtubeLink",1,"col-form-label","col-md-2"],["type","text","id","youtubeLink","placeholder","Enter YouTube video link (optional)","name","youtubeLink",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mb-0","row"],[1,"col-md-10","offset-md-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"image-preview-item"],[1,"img-thumbnail",2,"max-width","100px","max-height","100px",3,"src"]],template:function(t,n){if(1&t){const a=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e.EFF(6,"Create Your Blog"),e.k0s()()()(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h5",11),e.EFF(13,"Blog Details"),e.k0s()(),e.j41(14,"form",12)(15,"div",13)(16,"label",14),e.EFF(17,"Title"),e.k0s(),e.j41(18,"div",15)(19,"input",16),e.bIt("ngModelChange",function(l){return n.blogTitle=l}),e.k0s()()(),e.j41(20,"div",13)(21,"label",17),e.EFF(22,"Content"),e.k0s(),e.j41(23,"div",15)(24,"textarea",18,19),e.bIt("ngModelChange",function(l){return n.blogContent=l})("input",function(){return n.adjustTextareaHeight()}),e.k0s()()(),e.j41(26,"div",13)(27,"label",20),e.EFF(28,"Images"),e.k0s(),e.j41(29,"div",15)(30,"input",21,22),e.bIt("change",function(l){return n.previewImages(l)}),e.k0s(),e.j41(32,"small",23),e.EFF(33,"You can select multiple images to upload."),e.k0s(),e.j41(34,"div",24),e.DNE(35,v,2,1,"div",25),e.k0s()()(),e.j41(36,"div",13)(37,"label",26),e.EFF(38,"PDF"),e.k0s(),e.j41(39,"div",15)(40,"input",27),e.bIt("change",function(l){return n.handlePdfChange(l)}),e.k0s()()(),e.j41(41,"div",13)(42,"label",28),e.EFF(43,"YouTube Link"),e.k0s(),e.j41(44,"div",15)(45,"input",29),e.bIt("ngModelChange",function(l){return n.youtubeLink=l}),e.k0s()()(),e.j41(46,"div",30)(47,"div",31)(48,"button",32),e.bIt("click",function(){e.eBV(a);const l=e.sdS(31);return e.Njj(n.addNewBlog(n.blogTitle,n.blogContent,n.youtubeLink,l))}),e.EFF(49,"Create Blog"),e.k0s()()()()()()()()()()}2&t&&(e.R7$(19),e.Y8G("ngModel",n.blogTitle),e.R7$(5),e.Y8G("ngModel",n.blogContent),e.R7$(11),e.Y8G("ngForOf",n.imageUrls),e.R7$(10),e.Y8G("ngModel",n.youtubeLink))},dependencies:[u.Sq,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV],styles:[".image-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.image-preview-item[_ngcontent-%COMP%]{margin-right:10px;margin-bottom:10px}textarea[_ngcontent-%COMP%]{height:auto;max-height:none;overflow-y:hidden}"]})}}return o})()}];let C=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[m.iI.forChild(b),m.iI]})}}return o})(),y=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[u.MD,C,c.YN]})}}return o})()}}]);