"use strict";(self.webpackChunkNORMECA_angular=self.webpackChunkNORMECA_angular||[]).push([[762],{762:(j,u,s)=>{s.r(u),s.d(u,{ProjectTaskModule:()=>A});var c=s(6814),g=s(4190),m=s(9538),_=s(8613),t=s(5879),d=s(9136),p=s(3566);function k(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"span",27),t._uU(9,"Completed"),t.qZA()()()),2&i){const a=l.$implicit;t.xp6(2),t.Oqu(a.name),t.xp6(2),t.Oqu(a.milestone),t.xp6(2),t.hij(" ",a.para," ")}}function T(i,l){if(1&i){const a=t.EpF();t.TgZ(0,"li",29),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.moveToPage(e.currentPage-2))})("keydown.enter",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.moveToPage(e.currentPage-2))}),t.TgZ(1,"a",30),t._uU(2," ... "),t.qZA()()}if(2&i){const a=t.oxw(2);t.Q6J("hidden",1===a.currentPage)}}function P(i,l){if(1&i){const a=t.EpF();t.TgZ(0,"li",29),t.NdJ("click",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.moveToPage(e.currentPage+2))})("keydown.enter",function(){t.CHM(a);const e=t.oxw(2);return t.KtG(e.moveToPage(e.currentPage+2))}),t.TgZ(1,"a",31),t._uU(2," ... "),t.qZA()()}if(2&i){const a=t.oxw(2);t.Q6J("hidden",a.currentPage>=a.pageNumberArray[a.pageNumberArray.length-2]||a.totalData<a.serialNumberArray[a.serialNumberArray.length-1])}}function v(i,l){if(1&i){const a=t.EpF();t.ynx(0),t.TgZ(1,"li",24)(2,"a",26),t.NdJ("click",function(){const r=t.CHM(a).$implicit,o=t.oxw();return t.KtG(o.moveToPage(r))})("keydown.enter",function(){const r=t.CHM(a).$implicit,o=t.oxw();return t.KtG(o.moveToPage(r))}),t._uU(3),t.qZA()(),t.YNc(4,T,3,1,"li",28),t.YNc(5,P,3,1,"li",28),t.BQk()}if(2&i){const a=l.$implicit,n=l.index,e=t.oxw();t.xp6(1),t.ekj("active",a===e.currentPage),t.Q6J("ngClass",e.pageNumberArray[e.currentPage-2]>a&&1!==a&&e.pageNumberArray.length>6||e.pageNumberArray[e.currentPage]<a&&1!==a&&e.pageNumberArray.length>6&&e.pageNumberArray.length!==a?"hide-page-no":"show-page-no"),t.xp6(2),t.hij(" ",a," "),t.xp6(1),t.Q6J("ngIf",0===n&&e.pageNumberArray.length>6&&e.currentPage>2),t.xp6(1),t.Q6J("ngIf",n===e.pageNumberArray.length-2&&e.pageNumberArray.length>6)}}const h=function(i){return{disabled:i}},f=[{path:"",component:(()=>{class i{constructor(a){this.data=a,this.routes=_._,this.task=[],this.url="milestones",this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0}ngOnInit(){this.getTableData()}getTableData(){this.task=[],this.serialNumberArray=[],this.data.getTask().subscribe(a=>{this.totalData=a.totalData,a.data.map((n,e)=>{const r=e+1;e>=this.skip&&r<=this.limit&&(this.task.push(n),this.serialNumberArray.push(r))}),this.dataSource=new m.by(this.task),this.calculateTotalPages(this.totalData,this.pageSize)})}sortData(a){const n=this.task.slice();this.task=a.active&&""!==a.direction?n.sort((e,r)=>(e[a.active]<r[a.active]?-1:1)*("asc"===a.direction?1:-1)):n}getMoreData(a){"next"==a?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData()):"previous"==a&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData())}moveToPage(a){this.currentPage=a,this.skip=this.pageSelection[a-1].skip,this.limit=this.pageSelection[a-1].limit,a>this.currentPage?this.pageIndex=a-1:a<this.currentPage&&(this.pageIndex=a+1),this.getTableData()}PageSize(){this.pageSelection=[],this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(a,n){this.pageNumberArray=[],this.totalPages=a/n,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(let e=1;e<=this.totalPages;e++){const r=n*e,o=r-n;this.pageNumberArray.push(e),this.pageSelection.push({skip:o,limit:r})}}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(d.u))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-project-task"]],decls:52,vars:16,consts:[[1,"page-title"],[1,"user-tabs","mb-4"],[1,"nav","nav-tabs","nav-tabs-bottom","nav-justified"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link","active",3,"routerLink"],[1,"my-projects-view"],[1,"row"],[1,"col-lg-12"],[1,"title-head","d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"table-responsive","table-box","manage-projects-table"],["matSort","",1,"table","table-center","table-hover","datatable","no-sort",3,"matSortChange"],[1,"thead-pink"],["mat-sort-header","name"],["mat-sort-header","milestone"],["mat-sort-header","availability"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click","keydown.enter"],["href","javascript:void(0);",1,"page-link",3,"click","keydown.enter"],[1,"badge","badge-pill","bg-success-light"],["tabindex","0","class","page-item",3,"hidden","click","keydown.enter",4,"ngIf"],["tabindex","0",1,"page-item",3,"hidden","click","keydown.enter"],["href","javascript:void(0);",1,"page-link"],["href","javascript:void(0);","tabindex","0",1,"page-link"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Manage Projects"),t.qZA()(),t.TgZ(3,"nav",1)(4,"ul",2)(5,"li",3)(6,"a",4),t._uU(7,"Overview & Discussions"),t.qZA()(),t.TgZ(8,"li",3)(9,"a",4),t._uU(10,"Milestones"),t.qZA()(),t.TgZ(11,"li",3)(12,"a",5),t._uU(13,"Tasks"),t.qZA()(),t.TgZ(14,"li",3)(15,"a",4),t._uU(16,"Files"),t.qZA()(),t.TgZ(17,"li",3)(18,"a",4),t._uU(19,"Payments"),t.qZA()()()(),t.TgZ(20,"div",6)(21,"div",7)(22,"div",8)(23,"div",9)(24,"h4",10),t._uU(25,"Task"),t.qZA()(),t.TgZ(26,"div",11)(27,"table",12),t.NdJ("matSortChange",function(o){return e.sortData(o)}),t.TgZ(28,"thead",13)(29,"tr")(30,"th",14),t._uU(31," Task Name"),t.qZA(),t.TgZ(32,"th",15),t._uU(33,"Milestones"),t.qZA(),t.TgZ(34,"th",16),t._uU(35,"Status"),t.qZA()()(),t.TgZ(36,"tbody"),t.YNc(37,k,10,3,"tr",17),t.qZA()()(),t.TgZ(38,"div",18)(39,"div",19)(40,"div",20),t._uU(41),t.qZA()(),t.TgZ(42,"div",21)(43,"div",22)(44,"ul",23)(45,"li",24)(46,"a",25),t.NdJ("click",function(){return e.getMoreData("previous")})("keydown.enter",function(){return e.getMoreData("previous")}),t._uU(47,"Previous"),t.qZA()(),t.YNc(48,v,6,6,"ng-container",17),t.TgZ(49,"li",24)(50,"a",26),t.NdJ("click",function(){return e.getMoreData("next")})("keydown.enter",function(){return e.getMoreData("next")}),t._uU(51,"Next "),t.qZA()()()()()()()()()),2&n&&(t.xp6(6),t.Q6J("routerLink",e.routes.completedviewproject),t.xp6(3),t.Q6J("routerLink",e.routes.projectmilestone),t.xp6(3),t.Q6J("routerLink",e.routes.projecttask),t.xp6(3),t.Q6J("routerLink",e.routes.milestonefiles),t.xp6(3),t.Q6J("routerLink",e.routes.paymentproject),t.xp6(19),t.Q6J("ngForOf",e.task),t.xp6(4),t.lnq(" Showing ",e.serialNumberArray[0]," to ",e.serialNumberArray[e.serialNumberArray.length-1]," of ",e.totalData," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(12,h,1===e.currentPage)),t.xp6(3),t.Q6J("ngForOf",e.pageNumberArray),t.xp6(1),t.Q6J("ngClass",t.VKq(14,h,e.currentPage===e.pageNumberArray[e.pageNumberArray.length-1]||0===e.task.length)))},dependencies:[c.mk,c.sg,c.O5,g.rH,p.YE,p.nU]})}return i})()}];let b=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#a=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(f),g.Bz]})}return i})();var y=s(45);let A=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#a=this.\u0275inj=t.cJS({imports:[c.ez,b,y.m]})}return i})()}}]);