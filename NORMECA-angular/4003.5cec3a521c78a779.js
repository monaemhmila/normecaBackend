"use strict";(self.webpackChunkNORMECA_angular=self.webpackChunkNORMECA_angular||[]).push([[4003],{4003:(O,g,s)=>{s.r(g),s.d(g,{EarningsModule:()=>P});var p=s(177),d=s(1188),F=s(416),t=s(7705),k=s(7738),h=s(4626),l=s(9417),m=s(2042);const E=["chart"];function j(a,c){if(1&a&&(t.j41(0,"tr")(1,"td")(2,"div",52),t.nrm(3,"input",72)(4,"label",54),t.k0s()(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"a",73),t.EFF(9),t.k0s()(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td",74)(19,"a",75),t.nrm(20,"i",76),t.k0s(),t.j41(21,"a",77),t.nrm(22,"i",78),t.k0s()()()),2&a){const n=c.$implicit;t.R7$(6),t.JRh(n.transaction),t.R7$(3),t.JRh(n.refernce),t.R7$(2),t.JRh(n.project),t.R7$(2),t.JRh(n.value),t.R7$(2),t.JRh(n.income),t.R7$(2),t.JRh(n.payment)}}function _(a,c){if(1&a){const n=t.RV6();t.j41(0,"li",80),t.bIt("click",function(){t.eBV(n);const e=t.XpG(2);return t.Njj(e.moveToPage(e.currentPage-2))})("keydown.enter",function(){t.eBV(n);const e=t.XpG(2);return t.Njj(e.moveToPage(e.currentPage-2))}),t.j41(1,"a",81),t.EFF(2," ... "),t.k0s()()}if(2&a){const n=t.XpG(2);t.Y8G("hidden",1===n.currentPage)}}function f(a,c){if(1&a){const n=t.RV6();t.j41(0,"li",80),t.bIt("click",function(){t.eBV(n);const e=t.XpG(2);return t.Njj(e.moveToPage(e.currentPage+2))})("keydown.enter",function(){t.eBV(n);const e=t.XpG(2);return t.Njj(e.moveToPage(e.currentPage+2))}),t.j41(1,"a",81),t.EFF(2," ... "),t.k0s()()}if(2&a){const n=t.XpG(2);t.Y8G("hidden",n.currentPage>=n.pageNumberArray[n.pageNumberArray.length-2]||n.totalData<n.serialNumberArray[n.serialNumberArray.length-1])}}function v(a,c){if(1&a){const n=t.RV6();t.qex(0),t.j41(1,"li",69)(2,"a",71),t.bIt("click",function(){const r=t.eBV(n).$implicit,o=t.XpG();return t.Njj(o.moveToPage(r))})("keydown.enter",function(){const r=t.eBV(n).$implicit,o=t.XpG();return t.Njj(o.moveToPage(r))}),t.EFF(3),t.k0s()(),t.DNE(4,_,3,1,"li",79),t.DNE(5,f,3,1,"li",79),t.bVm()}if(2&a){const n=c.$implicit,i=c.index,e=t.XpG();t.R7$(1),t.AVh("active",n===e.currentPage),t.Y8G("ngClass",e.pageNumberArray[e.currentPage-2]>n&&1!==n&&e.pageNumberArray.length>6||e.pageNumberArray[e.currentPage]<n&&1!==n&&e.pageNumberArray.length>6&&e.pageNumberArray.length!==n?"hide-page-no":"show-page-no"),t.R7$(2),t.SpI(" ",n," "),t.R7$(1),t.Y8G("ngIf",0===i&&e.pageNumberArray.length>6&&e.currentPage>2),t.R7$(1),t.Y8G("ngIf",i===e.pageNumberArray.length-2&&e.pageNumberArray.length>6)}}const u=function(a){return{disabled:a}},b=[{path:"",component:(()=>{class a{constructor(n){this.data=n,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.lstEarning=[],this.chartOptions={series:[{name:"Maximum",data:[0,5,16,7,18,26,7,21,10,7,10],color:"#3449a1"}],markers:{size:4,hover:{size:5}},chart:{height:350,type:"line",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:1},xaxis:{axisBorder:{show:!0,color:"#000000"},categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","oct","nov","dec"]},yaxis:{axisTicks:{show:!0,color:"#000000"},axisBorder:{show:!0,color:"#000000"},min:-2,max:30},tooltip:{x:{format:"MMM"}}}}ngOnInit(){this.getlstEarning()}getlstEarning(){this.lstEarning=[],this.serialNumberArray=[],this.data.adminEarning().subscribe(n=>{this.totalData=n.totalData,n.data.map((i,e)=>{const r=e+1;e>=this.skip&&r<=this.limit&&(i.id=r,this.lstEarning.push(i),this.serialNumberArray.push(r))}),this.dataSource=new F.Nf(this.lstEarning),this.calculateTotalPages(this.totalData,this.pageSize)})}sortData(n){const i=this.lstEarning.slice();this.lstEarning=n.active&&""!==n.direction?i.sort((e,r)=>(e[n.active]<r[n.active]?-1:1)*("asc"===n.direction?1:-1)):i}searchData(n){this.dataSource.filter=n.trim().toLowerCase(),this.lstEarning=this.dataSource.filteredData}getMoreData(n){"next"==n?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getlstEarning()):"previous"==n&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getlstEarning())}moveToPage(n){this.currentPage=n,this.skip=this.pageSelection[n-1].skip,this.limit=this.pageSelection[n-1].limit,n>this.currentPage?this.pageIndex=n-1:n<this.currentPage&&(this.pageIndex=n+1),this.getlstEarning()}changePageSize(){this.pageSelection=[],this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getlstEarning()}calculateTotalPages(n,i){this.pageNumberArray=[],this.totalPages=n/i,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(let e=1;e<=this.totalPages;e++){const r=i*e,o=r-i;this.pageNumberArray.push(e),this.pageSelection.push({skip:o,limit:r})}}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(k.L))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-earnings"]],viewQuery:function(i,e){if(1&i&&t.GBs(E,5),2&i){let r;t.mGM(r=t.lsd())&&(e.chart=r.first)}},decls:188,vars:32,consts:[[1,"page-wrapper"],[1,"content","report-box","container-fluid"],[1,"page-header","page-border"],[1,"row","align-items-center"],[1,"col-lg-6"],[1,"page-title"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"col-lg-6","report-btns"],[1,"project-report"],[1,"active-project"],[1,"project-chart"],[1,"row"],[1,"subscribe-employe"],[1,"active"],[1,"col-xl-12","d-flex"],[1,"card","flex-fill"],[1,"card-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-white","btn-sm","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["href","javascript:void(0);",1,"dropdown-item"],[1,"card-body"],["id","chart-sracked",1,"earing-chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","markers","legend","fill","stroke","tooltip","xaxis"],[1,"project-download"],[1,"title-group","d-flex"],[1,"down-load"],["href","javascript:void()",1,"btn-primary"],[1,"fas","fa-cloud-download-alt"],[1,"select-group"],[1,"col-lg-2","col-md-6"],[1,"form-select"],[1,"card"],[1,"table-responsive"],[1,"table_header"],[1,"dataTables_length"],["for","show"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["value","10"],["value","25"],["value","50"],["value","100"],["for","entries"],[1,"dataTables_filter"],["for","search"],[1,"table-scroll"],["matSort","",1,"table","table-center","table-hover","mb-0","datatable",3,"matSortChange"],[1,"form-check","custom-checkbox"],["type","checkbox","id","select-all",1,"form-check-input"],["for","customCheck1",1,"form-check-label"],["mat-sort-header","transaction"],["mat-sort-header","refernce"],["mat-sort-header","project"],["mat-sort-header","value"],["mat-sort-header","income"],["mat-sort-header","payment"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click","keydown.enter"],["href","javascript:void(0);",1,"page-link",3,"click","keydown.enter"],["type","checkbox","id","customCheck1",1,"form-check-input"],["href","javascript:"],[1,"text-end","subscription-end"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#edit-category",1,"btn","btn-sm","btn-secondary","me-2"],[1,"far","fa-edit"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#delete_category",1,"btn","btn-sm","btn-danger"],[1,"far","fa-trash-alt"],["class","page-item","tabindex","0",3,"hidden","click","keydown.enter",4,"ngIf"],["tabindex","0",1,"page-item",3,"hidden","click","keydown.enter"],["href","javascript:void(0);",1,"page-link"]],template:function(i,e){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t.EFF(6,"Reports"),t.k0s(),t.j41(7,"ul",6)(8,"li",7)(9,"a",8),t.EFF(10,"Home"),t.k0s()(),t.j41(11,"li",9),t.EFF(12,"Reports"),t.k0s()()(),t.j41(13,"div",10)(14,"ul",11)(15,"li")(16,"a",8),t.EFF(17,"Projects"),t.k0s()(),t.j41(18,"li")(19,"a",8),t.EFF(20,"Bidding"),t.k0s()(),t.j41(21,"li")(22,"a",8),t.EFF(23,"Invoices"),t.k0s()(),t.j41(24,"li",12)(25,"a",8),t.EFF(26,"Earnings"),t.k0s()()()()()(),t.j41(27,"div",13)(28,"div",14)(29,"div",15)(30,"ul")(31,"li",16)(32,"a",8),t.EFF(33,"Administrator "),t.k0s()(),t.j41(34,"li")(35,"a",8),t.EFF(36,"Employer"),t.k0s()(),t.j41(37,"li")(38,"a",8),t.EFF(39,"Freelancer"),t.k0s()()()(),t.j41(40,"div",17)(41,"div",18)(42,"div",19)(43,"div",20)(44,"h5",21),t.EFF(45,"Earnings Report"),t.k0s(),t.j41(46,"div",22)(47,"button",23),t.EFF(48," 2022 "),t.k0s(),t.j41(49,"ul",24)(50,"li")(51,"a",25),t.EFF(52,"2021"),t.k0s()(),t.j41(53,"li")(54,"a",25),t.EFF(55,"2022"),t.k0s()(),t.j41(56,"li")(57,"a",25),t.EFF(58,"2020"),t.k0s()()()()()(),t.j41(59,"div",26)(60,"div",27),t.nrm(61,"apx-chart",28),t.k0s()()()()()(),t.j41(62,"div",29)(63,"div",30)(64,"h2"),t.EFF(65,"Administrator Earnings"),t.k0s(),t.j41(66,"div",31)(67,"a",32),t.nrm(68,"i",33),t.EFF(69,"Download"),t.k0s()()(),t.j41(70,"div",34)(71,"div",14)(72,"div",35)(73,"select",36)(74,"option"),t.EFF(75," Date"),t.k0s(),t.j41(76,"option"),t.EFF(77,"Option 1"),t.k0s(),t.j41(78,"option"),t.EFF(79,"Option 2"),t.k0s(),t.j41(80,"option"),t.EFF(81,"Option 3"),t.k0s(),t.j41(82,"option"),t.EFF(83,"Option 4"),t.k0s(),t.j41(84,"option"),t.EFF(85,"Option 5"),t.k0s()()(),t.j41(86,"div",35)(87,"select",36)(88,"option"),t.EFF(89," Reference Number"),t.k0s(),t.j41(90,"option"),t.EFF(91,"Option 1"),t.k0s(),t.j41(92,"option"),t.EFF(93,"Option 2"),t.k0s(),t.j41(94,"option"),t.EFF(95,"Option 3"),t.k0s(),t.j41(96,"option"),t.EFF(97,"Option 4"),t.k0s(),t.j41(98,"option"),t.EFF(99,"Option 5"),t.k0s()()(),t.j41(100,"div",35)(101,"select",36)(102,"option"),t.EFF(103," Project name"),t.k0s(),t.j41(104,"option"),t.EFF(105,"Option 1"),t.k0s(),t.j41(106,"option"),t.EFF(107,"Option 2"),t.k0s(),t.j41(108,"option"),t.EFF(109,"Option 3"),t.k0s(),t.j41(110,"option"),t.EFF(111,"Option 4"),t.k0s(),t.j41(112,"option"),t.EFF(113,"Option 5"),t.k0s()()(),t.j41(114,"div",35)(115,"select",36)(116,"option"),t.EFF(117," Payment type"),t.k0s(),t.j41(118,"option"),t.EFF(119,"Option 1"),t.k0s(),t.j41(120,"option"),t.EFF(121,"Option 2"),t.k0s(),t.j41(122,"option"),t.EFF(123,"Option 3"),t.k0s(),t.j41(124,"option"),t.EFF(125,"Option 4"),t.k0s(),t.j41(126,"option"),t.EFF(127,"Option 5"),t.k0s()()()()()(),t.j41(128,"div",37)(129,"div",26)(130,"div",38)(131,"div",39)(132,"div",40)(133,"label",41),t.EFF(134," Show "),t.k0s(),t.j41(135,"select",42),t.bIt("ngModelChange",function(o){return e.pageSize=o})("ngModelChange",function(){return e.changePageSize()}),t.j41(136,"option",43),t.EFF(137,"10"),t.k0s(),t.j41(138,"option",44),t.EFF(139,"25"),t.k0s(),t.j41(140,"option",45),t.EFF(141,"50"),t.k0s(),t.j41(142,"option",46),t.EFF(143,"100"),t.k0s()(),t.j41(144,"label",47),t.EFF(145,"Entries"),t.k0s()(),t.j41(146,"div",48)(147,"label",49),t.EFF(148," Search: "),t.k0s(),t.j41(149,"input",42),t.bIt("ngModelChange",function(o){return e.searchDataValue=o})("ngModelChange",function(){return e.searchData(e.searchDataValue)}),t.k0s()()(),t.j41(150,"div",50)(151,"table",51),t.bIt("matSortChange",function(o){return e.sortData(o)}),t.j41(152,"thead")(153,"tr")(154,"th")(155,"div",52),t.nrm(156,"input",53)(157,"label",54),t.k0s()(),t.j41(158,"th",55),t.EFF(159,"Transaction date"),t.k0s(),t.j41(160,"th",56),t.EFF(161,"Reference Number"),t.k0s(),t.j41(162,"th",57),t.EFF(163,"Project Name"),t.k0s(),t.j41(164,"th",58),t.EFF(165,"Project Value"),t.k0s(),t.j41(166,"th",59),t.EFF(167,"Income"),t.k0s(),t.j41(168,"th",60),t.EFF(169,"Payment type"),t.k0s(),t.j41(170,"th",61),t.EFF(171,"Actions"),t.k0s()()(),t.j41(172,"tbody"),t.DNE(173,j,23,6,"tr",62),t.k0s()()(),t.j41(174,"div",63)(175,"div",64)(176,"div",65),t.EFF(177),t.k0s()(),t.j41(178,"div",66)(179,"div",67)(180,"ul",68)(181,"li",69)(182,"a",70),t.bIt("click",function(){return e.getMoreData("previous")})("keydown.enter",function(){return e.getMoreData("previous")}),t.EFF(183,"Previous"),t.k0s()(),t.DNE(184,v,6,6,"ng-container",62),t.j41(185,"li",69)(186,"a",71),t.bIt("click",function(){return e.getMoreData("next")})("keydown.enter",function(){return e.getMoreData("next")}),t.EFF(187,"Next "),t.k0s()()()()()()()()()()()),2&i&&(t.R7$(9),t.Y8G("routerLink","/home"),t.R7$(7),t.Y8G("routerLink","/admin/reports/projects"),t.R7$(3),t.Y8G("routerLink","/admin/reports/bidding"),t.R7$(3),t.Y8G("routerLink","/admin/reports/invoices"),t.R7$(3),t.Y8G("routerLink","/admin/reports/earnings"),t.R7$(7),t.Y8G("routerLink","/admin/reports/earnings"),t.R7$(3),t.Y8G("routerLink","/admin/reports/employer"),t.R7$(3),t.Y8G("routerLink","/admin/reports/freelancer"),t.R7$(23),t.Y8G("series",e.chartOptions.series)("chart",e.chartOptions.chart)("dataLabels",e.chartOptions.dataLabels)("plotOptions",e.chartOptions.plotOptions)("yaxis",e.chartOptions.yaxis)("markers",e.chartOptions.markers)("legend",e.chartOptions.legend)("fill",e.chartOptions.fill)("stroke",e.chartOptions.stroke)("tooltip",e.chartOptions.tooltip)("xaxis",e.chartOptions.xaxis),t.R7$(74),t.Y8G("ngModel",e.pageSize),t.R7$(14),t.Y8G("ngModel",e.searchDataValue),t.R7$(24),t.Y8G("ngForOf",e.lstEarning),t.R7$(4),t.E5c(" Showing ",e.serialNumberArray[0]," to ",e.serialNumberArray[e.serialNumberArray.length-1]," of ",e.totalData," entries "),t.R7$(4),t.Y8G("ngClass",t.eq3(28,u,1===e.currentPage)),t.R7$(3),t.Y8G("ngForOf",e.pageNumberArray),t.R7$(1),t.Y8G("ngClass",t.eq3(30,u,e.currentPage===e.pageNumberArray[e.pageNumberArray.length-1]||0===e.lstEarning.length)))},dependencies:[p.YU,p.Sq,p.bT,d.Wk,h.Q,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,m.B4,m.aE]})}}return a})()}];let y=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[d.iI.forChild(b),d.iI]})}}return a})();var C=s(9688);let P=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[p.MD,y,h.J,C.G]})}}return a})()}}]);