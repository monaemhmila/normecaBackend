"use strict";(self.webpackChunkNORMECA_angular=self.webpackChunkNORMECA_angular||[]).push([[1429],{9211:(G,x,C)=>{C.d(x,{A:()=>s});var p=function(){return p=Object.assign||function(i){for(var o,a=1,n=arguments.length;a<n;a++)for(var l in o=arguments[a])Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l]);return i},p.apply(this,arguments)},P={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},S=function(r){return Object.keys(r).map(function(i){return encodeURIComponent(i)+"="+encodeURIComponent(r[i])}).join("&")};const s=function(){function r(i){return this.core=i,this.settings=p(p({},P),this.core.settings),this}return r.prototype.init=function(){var i=this;this.core.LGel.on("lgHasVideo.video",this.onHasVideo.bind(this)),this.core.LGel.on("lgPosterClick.video",function(){var o=i.core.getSlideItem(i.core.index);i.loadVideoOnPosterClick(o)}),this.core.LGel.on("lgSlideItemLoad.video",this.onSlideItemLoad.bind(this)),this.core.LGel.on("lgBeforeSlide.video",this.onBeforeSlide.bind(this)),this.core.LGel.on("lgAfterSlide.video",this.onAfterSlide.bind(this))},r.prototype.onSlideItemLoad=function(i){var o=this,a=i.detail,n=a.isFirstSlide,l=a.index;this.settings.autoplayFirstVideo&&n&&l===this.core.index&&setTimeout(function(){o.loadAndPlayVideo(l)},200),!n&&this.settings.autoplayVideoOnSlide&&l===this.core.index&&this.loadAndPlayVideo(l)},r.prototype.onHasVideo=function(i){var o=i.detail,a=o.index,n=o.src,l=o.html5Video;o.hasPoster||(this.appendVideos(this.core.getSlideItem(a),{src:n,addClass:"lg-object",index:a,html5Video:l}),this.gotoNextSlideOnVideoEnd(n,a))},r.prototype.onBeforeSlide=function(i){this.core.lGalleryOn&&this.pauseVideo(i.detail.prevIndex)},r.prototype.onAfterSlide=function(i){var o=this,a=i.detail,n=a.index,l=a.prevIndex,c=this.core.getSlideItem(n);this.settings.autoplayVideoOnSlide&&n!==l&&c.hasClass("lg-complete")&&setTimeout(function(){o.loadAndPlayVideo(n)},100)},r.prototype.loadAndPlayVideo=function(i){var o=this.core.getSlideItem(i);this.core.galleryItems[i].poster?this.loadVideoOnPosterClick(o,!0):this.playVideo(i)},r.prototype.playVideo=function(i){this.controlVideo(i,"play")},r.prototype.pauseVideo=function(i){this.controlVideo(i,"pause")},r.prototype.getVideoHtml=function(i,o,a,n){var l="",c=this.core.galleryItems[a].__slideVideoInfo||{},u=this.core.galleryItems[a],g=u.title||u.alt;g=g?'title="'+g+'"':"";var h='allowtransparency="true"\n            frameborder="0"\n            scrolling="no"\n            allowfullscreen\n            mozallowfullscreen\n            webkitallowfullscreen\n            oallowfullscreen\n            msallowfullscreen';if(c.youtube){var m="lg-youtube"+a,b=function(r,i){if(!r.youtube)return"";var o=r.youtube[2]?function(r){return r.slice(1).split("&").map(function(o){return o.split("=")}).reduce(function(o,a){var n=a.map(decodeURIComponent);return o[n[0]]=n[1],o},{})}(r.youtube[2]):"",n=i||{},l=p(p(p({},{wmode:"opaque",autoplay:0,mute:1,enablejsapi:1}),n),o);return"?"+S(l)}(c,this.settings.youTubePlayerParams),w=function(r){return r.includes("youtube-nocookie.com")}(i);l='<iframe allow="autoplay" id='+m+' class="lg-video-object lg-youtube '+o+'" '+g+' src="'+(w?"//www.youtube-nocookie.com/":"//www.youtube.com/")+"embed/"+(c.youtube[1]+b)+'" '+h+"></iframe>"}else if(c.vimeo){m="lg-vimeo"+a;var I=function(r,i){if(!i||!i.vimeo)return"";var o=i.vimeo[2]||"",a=r&&0!==Object.keys(r).length?"&"+S(r):"",c=((i.vimeo[0].split("/").pop()||"").split("?")[0]||"").split("#")[0],u=i.vimeo[1]!==c;return u&&(o=o.replace("/"+c,"")),"?autoplay=0&muted=1"+(u?"&h="+c:"")+a+("?"==o[0]?"&"+o.slice(1):o||"")}(this.settings.vimeoPlayerParams,c);l='<iframe allow="autoplay" id='+m+' class="lg-video-object lg-vimeo '+o+'" '+g+' src="//player.vimeo.com/video/'+(c.vimeo[1]+I)+'" '+h+"></iframe>"}else if(c.wistia){var Z="lg-wistia"+a;I=S(this.settings.wistiaPlayerParams),l='<iframe allow="autoplay" id="'+Z+'" src="//fast.wistia.net/embed/iframe/'+c.wistia[4]+(I=I?"?"+I:"")+'" '+g+' class="wistia_embed lg-video-object lg-wistia '+o+'" name="wistia_embed" '+h+"></iframe>"}else if(c.html5){for(var _="",y=0;y<n.source.length;y++)_+='<source src="'+n.source[y].src+'" type="'+n.source[y].type+'">';if(n.tracks){var R=function(z){var V="",Y=n.tracks[z];Object.keys(Y||{}).forEach(function(X){V+=X+'="'+Y[X]+'" '}),_+="<track "+V+">"};for(y=0;y<n.tracks.length;y++)R(y)}var L="",O=n.attributes||{};Object.keys(O||{}).forEach(function(z){L+=z+'="'+O[z]+'" '}),l='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+L+">\n                "+_+"\n                Your browser does not support HTML5 video.\n            </video>"}return l},r.prototype.appendVideos=function(i,o){var a,n=this.getVideoHtml(o.src,o.addClass,o.index,o.html5Video);i.find(".lg-video-cont").append(n);var l=i.find(".lg-video-object").first();if(o.html5Video&&l.on("mousedown.lg.video",function(c){c.stopPropagation()}),this.settings.videojs&&null!==(a=this.core.galleryItems[o.index].__slideVideoInfo)&&void 0!==a&&a.html5)try{return videojs(l.get(),this.settings.videojsOptions)}catch{console.error("lightGallery:- Make sure you have included videojs")}},r.prototype.gotoNextSlideOnVideoEnd=function(i,o){var a=this,n=this.core.getSlideItem(o).find(".lg-video-object").first(),l=this.core.galleryItems[o].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd)if(l.html5)n.on("ended",function(){a.core.goToNextSlide()});else if(l.vimeo)try{new Vimeo.Player(n.get()).on("ended",function(){a.core.goToNextSlide()})}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(l.wistia)try{window._wq=window._wq||[],window._wq.push({id:n.attr("id"),onReady:function(c){c.bind("end",function(){a.core.goToNextSlide()})}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},r.prototype.controlVideo=function(i,o){var a=this.core.getSlideItem(i).find(".lg-video-object").first(),n=this.core.galleryItems[i].__slideVideoInfo||{};if(a.get())if(n.youtube)try{a.get().contentWindow.postMessage('{"event":"command","func":"'+o+'Video","args":""}',"*")}catch(l){console.error("lightGallery:- "+l)}else if(n.vimeo)try{new Vimeo.Player(a.get())[o]()}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(n.html5)if(this.settings.videojs)try{videojs(a.get())[o]()}catch{console.error("lightGallery:- Make sure you have included videojs")}else a.get()[o]();else if(n.wistia)try{window._wq=window._wq||[],window._wq.push({id:a.attr("id"),onReady:function(l){l[o]()}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},r.prototype.loadVideoOnPosterClick=function(i,o){var a=this;if(i.hasClass("lg-video-loaded"))o&&this.playVideo(this.core.index);else if(i.hasClass("lg-has-video"))this.playVideo(this.core.index);else{i.addClass("lg-has-video");var n=void 0,l=this.core.galleryItems[this.core.index].src,c=this.core.galleryItems[this.core.index].video;c&&(n="string"==typeof c?JSON.parse(c):c);var u=this.appendVideos(i,{src:l,addClass:"",index:this.core.index,html5Video:n});this.gotoNextSlideOnVideoEnd(l,this.core.index);var g=i.find(".lg-object").first().get();i.find(".lg-video-cont").first().append(g),i.addClass("lg-video-loading"),u&&u.ready(function(){u.on("loadedmetadata",function(){a.onVideoLoadAfterPosterClick(i,a.core.index)})}),i.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",function(){setTimeout(function(){a.onVideoLoadAfterPosterClick(i,a.core.index)},50)})}},r.prototype.onVideoLoadAfterPosterClick=function(i,o){i.addClass("lg-video-loaded"),this.playVideo(o)},r.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},r}()},4731:(G,x,C)=>{C.d(x,{A:()=>T});var p=function(){return p=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)},P={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}};const T=function(){function d(e,t){return this.core=e,this.$LG=t,this.settings=p(p({},P),this.core.settings),this}return d.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},d.prototype.enableZoom=function(e){var t=this,s=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?s=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index&&t.setZoomEssentials())},s+30)},d.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on("lgSlideItemLoad.zoom",this.enableZoom.bind(this))},d.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},d.prototype.getSwipeCords=function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}},d.prototype.getDragAllowedAxises=function(e,t){var s=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),r=0,i=0,o=s.getBoundingClientRect();return e?(r=s.offsetHeight*e,i=s.offsetWidth*e):t?(r=o.height+t*o.height,i=o.width+t*o.width):(r=o.height,i=o.width),{allowX:i>this.containerRect.width,allowY:r>this.containerRect.height}},d.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},d.prototype.zoomImage=function(e,t,s,r){if(!(Math.abs(t)<=0)){var n,i=this.containerRect.width/2+this.containerRect.left,o=this.containerRect.height/2+this.containerRect.top+this.scrollTop;1===e&&(this.positionChanged=!1);var l=this.getDragAllowedAxises(0,t),c=l.allowY,u=l.allowX;this.positionChanged&&(n=this.top/(this.scale-t),this.pageX=i-this.left/(this.scale-t),this.pageY=o-n,this.positionChanged=!1);var h,m,g=this.getPossibleSwipeDragCords(t),b=i-this.pageX,w=o-this.pageY;if(e-t>1){var v=(e-t)/Math.abs(t);h=(b=(t<0?-b:b)+this.left*(v+(t<0?-1:1)))/v,m=(w=(t<0?-w:w)+this.top*(v+(t<0?-1:1)))/v}else h=b*(v=(e-t)*t),m=w*v;s&&(u?this.isBeyondPossibleLeft(h,g.minX)?h=g.minX:this.isBeyondPossibleRight(h,g.maxX)&&(h=g.maxX):e>1&&(h<g.minX?h=g.minX:h>g.maxX&&(h=g.maxX)),c?this.isBeyondPossibleTop(m,g.minY)?m=g.minY:this.isBeyondPossibleBottom(m,g.maxY)&&(m=g.maxY):e>1&&(m<g.minY?m=g.minY:m>g.maxY&&(m=g.maxY))),this.setZoomStyles({x:h,y:m,scale:e}),this.left=h,this.top=m,r&&this.setZoomImageSize()}},d.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var t=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout(function(){t.removeClass("no-transition")},10)}},d.prototype.setZoomImageSize=function(){var e=this,t=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var s=e.getCurrentImageActualSizeScale();e.scale>=s&&(t.addClass("no-transition"),e.imageReset=!0)},500),setTimeout(function(){var s=e.getCurrentImageActualSizeScale();if(e.scale>=s){var r=e.getDragAllowedAxises(e.scale);t.css("width",t.get().naturalWidth+"px").css("height",t.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),r.allowX&&r.allowY?t.addClass("reset-transition"):r.allowX&&!r.allowY?t.addClass("reset-transition-x"):!r.allowX&&r.allowY&&t.addClass("reset-transition-y")}},550)},d.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),s=this.core.getSlideItem(this.core.index).find(".lg-image").first(),r=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,s.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),r.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),t.css("transform","translate3d("+e.x+"px, "+e.y+"px, 0)")},d.prototype.setActualSize=function(e,t){var s=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var r=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout(function(){if(r.src&&!s.core.outer.hasClass("lg-first-slide-loading")){var i=s.getCurrentImageActualSizeScale(),o=s.scale;s.scale=s.core.outer.hasClass("lg-zoomed")?1:s.getScale(i),s.setPageCords(t),s.beginZoom(s.scale),s.zoomImage(s.scale,s.scale-o,!0,!0)}},50),setTimeout(function(){s.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){s.zoomInProgress=!1},610)}},d.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),s=this.core.galleryItems[e].width;return s?parseFloat(s):t.get().naturalWidth},d.prototype.getActualSizeScale=function(e,t){return e>=t?e/t||2:1},d.prototype.getCurrentImageActualSizeScale=function(){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first().get().offsetWidth,s=this.getNaturalWidth(this.core.index)||t;return this.getActualSizeScale(s,t)},d.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY;else{var s=this.core.$content.get().getBoundingClientRect();t.x=s.width/2+s.left,t.y=s.height/2+this.scrollTop+s.top}return t},d.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},d.prototype.manageActualPixelClassNames=function(){this.core.getElementById("lg-actual-size").removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},d.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},d.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},d.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",function(s){e.$LG(s.target).hasClass("lg-image")&&e.setActualSize(e.core.index,s)}),this.core.outer.on("touchstart.lg",function(s){var r=e.$LG(s.target);1===s.touches.length&&r.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,s.preventDefault(),e.setActualSize(e.core.index,s)):t=setTimeout(function(){t=null},300))}),this.core.LGel.on("lgContainerResize.zoom lgRotateRight.zoom lgRotateLeft.zoom lgFlipHorizontal.zoom lgFlipVertical.zoom",function(){if(e.core.lgOpened&&e.isImageSlide(e.core.index)&&!e.core.touchAction){var s=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(s,{x:0,y:0}),e.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(e.isImageSlide(e.core.index)){var s=0;e.imageReset&&(e.resetImageTranslate(e.core.index),s=50),setTimeout(function(){var r=e.scale-e.settings.scale;r<1&&(r=1),e.beginZoom(r),e.zoomImage(r,-e.settings.scale,!0,!e.settings.infiniteZoom)},s)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on("lgBeforeOpen.zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on("lgAfterOpen.zoom",function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1}),this.core.LGel.on("lgAfterSlide.zoom",function(s){var r=s.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.zoomInProgress=!1,e.resetZoom(r),e.resetImageTranslate(r),e.isImageSlide(e.core.index)&&e.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},d.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom)}},d.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),s=this.core.getSlideItem(void 0!==e?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),s.find(".lg-img-wrap").first().removeAttr("style"),s.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},d.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},d.prototype.pinchZoom=function(){var e=this,t=0,s=!1,r=1,i=0,o=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(a){if(o=e.core.getSlideItem(e.core.index),e.isImageSlide(e.core.index)&&2===a.touches.length){if(a.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;r=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(a),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",t=e.getTouchDistance(a)}}),this.core.$inner.on("touchmove.lg",function(a){if(2===a.touches.length&&"pinch"===e.core.touchAction&&(e.$LG(a.target).hasClass("lg-item")||o.get().contains(a.target))){a.preventDefault();var n=e.getTouchDistance(a),l=t-n;if(!s&&Math.abs(l)>5&&(s=!0),s){i=e.scale;var c=Math.max(1,r+.02*-l);e.scale=Math.round(100*(c+Number.EPSILON))/100,e.zoomImage(e.scale,Math.round(100*(e.scale-i+Number.EPSILON))/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(a){if("pinch"===e.core.touchAction&&(e.$LG(a.target).hasClass("lg-item")||o.get().contains(a.target))){if(s=!1,t=0,e.scale<=1)e.resetZoom();else{var n=e.getCurrentImageActualSizeScale();if(e.scale>=n){var l=n-e.scale;0===l&&(l=.01),e.zoomImage(n,l,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}})},d.prototype.touchendZoom=function(e,t,s,r,i){var o=t.x-e.x,a=t.y-e.y,n=Math.abs(o)/i+1,l=Math.abs(a)/i+1;n>2&&(n+=1),l>2&&(l+=1),o*=n,a*=l;var c=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),u={};u.x=this.left+o,u.y=this.top+a;var g=this.getPossibleSwipeDragCords();(Math.abs(o)>15||Math.abs(a)>15)&&(r&&(this.isBeyondPossibleTop(u.y,g.minY)?u.y=g.minY:this.isBeyondPossibleBottom(u.y,g.maxY)&&(u.y=g.maxY)),s&&(this.isBeyondPossibleLeft(u.x,g.minX)?u.x=g.minX:this.isBeyondPossibleRight(u.x,g.maxX)&&(u.x=g.maxX)),r?this.top=u.y:u.y=this.top,s?this.left=u.x:u.x=this.left,this.setZoomSwipeStyles(c,u),this.positionChanged=!0)},d.prototype.getZoomSwipeCords=function(e,t,s,r,i){var o={};return r?(o.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(o.y,i.minY)?o.y=i.minY-(i.minY-o.y)/6:this.isBeyondPossibleBottom(o.y,i.maxY)&&(o.y=i.maxY+(o.y-i.maxY)/6)):o.y=this.top,s?(o.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(o.x,i.minX)?o.x=i.minX-(i.minX-o.x)/6:this.isBeyondPossibleRight(o.x,i.maxX)&&(o.x=i.maxX+(o.x-i.maxX)/6)):o.x=this.left,o},d.prototype.isBeyondPossibleLeft=function(e,t){return e>=t},d.prototype.isBeyondPossibleRight=function(e,t){return e<=t},d.prototype.isBeyondPossibleTop=function(e,t){return e>=t},d.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},d.prototype.isImageSlide=function(e){return"image"===this.core.getSlideType(this.core.galleryItems[e])},d.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),s=this.core.mediaContainerPosition.bottom,r=t.get().getBoundingClientRect(),i=r.height,o=r.width;return e&&(i+=e*i,o+=e*o),{minY:(i-this.containerRect.height)/2,maxY:(this.containerRect.height-i)/2+s,minX:(o-this.containerRect.width)/2,maxX:(this.containerRect.width-o)/2}},d.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},d.prototype.zoomSwipe=function(){var l,c,e=this,t={},s={},r=!1,i=!1,o=!1,a=new Date,u=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(g){if(e.isImageSlide(e.core.index)&&(u=e.core.getSlideItem(e.core.index),(e.$LG(g.target).hasClass("lg-item")||u.get().contains(g.target))&&1===g.touches.length&&e.core.outer.hasClass("lg-zoomed"))){g.preventDefault(),a=new Date,e.core.touchAction="zoomSwipe",c=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var h=e.getDragAllowedAxises(0);o=h.allowY,((i=h.allowX)||o)&&(t=e.getSwipeCords(g)),l=e.getPossibleSwipeDragCords(),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(g){if(1===g.touches.length&&"zoomSwipe"===e.core.touchAction&&(e.$LG(g.target).hasClass("lg-item")||u.get().contains(g.target))){g.preventDefault(),e.core.touchAction="zoomSwipe",s=e.getSwipeCords(g);var h=e.getZoomSwipeCords(t,s,i,o,l);(Math.abs(s.x-t.x)>15||Math.abs(s.y-t.y)>15)&&(r=!0,e.setZoomSwipeStyles(c,h))}}),this.core.$inner.on("touchend.lg",function(g){if("zoomSwipe"===e.core.touchAction&&(e.$LG(g.target).hasClass("lg-item")||u.get().contains(g.target))){if(g.preventDefault(),e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!r)return;r=!1;var h=(new Date).valueOf()-a.valueOf();e.touchendZoom(t,s,i,o,h)}})},d.prototype.zoomDrag=function(){var n,l,c,u,e=this,t={},s={},r=!1,i=!1,o=!1,a=!1;this.core.outer.on("mousedown.lg.zoom",function(g){if(e.isImageSlide(e.core.index)){var h=e.core.getSlideItem(e.core.index);if(e.$LG(g.target).hasClass("lg-item")||h.get().contains(g.target)){n=new Date,u=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var m=e.getDragAllowedAxises(0);a=m.allowY,o=m.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(g.target).hasClass("lg-object")&&(o||a)&&(g.preventDefault(),t=e.getDragCords(g),c=e.getPossibleSwipeDragCords(),r=!0,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(g){if(r){i=!0,s=e.getDragCords(g);var h=e.getZoomSwipeCords(t,s,o,a,c);e.setZoomSwipeStyles(u,h)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(g){if(r){if(l=new Date,r=!1,e.core.outer.removeClass("lg-zoom-dragging"),i&&(t.x!==s.x||t.y!==s.y)){s=e.getDragCords(g);var h=l.valueOf()-n.valueOf();e.touchendZoom(t,s,o,a,h)}i=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},d.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},d.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},d}()}}]);